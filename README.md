# Итоговый проект. Бриф уязвимых групп населения”
## Оглавление
[1. Описание проекта](./README.md#1-Описание-проекта)

[2. Какой кейс решаем?](./README.md#2-Кейс)

[3. Краткая информация о данных](./README.md#3-Краткая-информация-о-данных)

[4. Этапы проекта](./README.md#4-Этапы-проекта)  

[5. Результаты и выводы](./README.md#5-Результаты) 

### 1. Описание проекта

На основании данных о доходах, заболеваемости, социально незащищённых слоях населения России и другич экономических и демографических данных необходимо решить следующую задачу:  

**Задача:** 
* кластеризовать регионы России и определить, какие из них наиболее остро нуждаются в помощи малообеспеченным/неблагополучным слоям населения:
* описать группы населения, сталкивающиеся с бедностью;
* определить:
  + влияет ли число детей, пенсионеров и других социально уязвимых групп на уровень бедности в регионе;
  + связаны ли уровень бедности/социального неблагополучия с производством и потреблением в регионе;
  + какие еще зависимости можно наблюдать относительно социально незащищенных слоев населения.

:arrow_up: [к оглавлению](./README.md#Оглавление)

### 2. Кейс
Компиляция данных (data engineering). Разработка ML-модели, кластерный анализ. Разработка сервиса: uWSGI, uWSGI+NGINX, Docker.

:arrow_up: [к оглавлению](./README.md#Оглавление)

### 3. Краткая информация о данных
Исходный набор данных находится в папке [data/social_russia_data/](./social_russia_data). Подробное описание в файле: [DSPR_Итоговый_проект_Бриф_3_Определение_уязвимых_групп_населения.pdf](data/DSPR_Итоговый_проект_Бриф_3_Определение_уязвимых_групп_населения.pdf)

[Итоговая таблица social_russia_data.csv](data/social_russia_data/social_russia_data.csv) - предобработанные данные.

Тот же датасет с метками кластеров согласно ML-модели: [russia_regions_2020_clusters.csv](./social_russia_data/russia_regions_2020_clusters.csv)
  
:arrow_up: [к оглавлению](./README.md#Оглавление)

### 4. Этапы проекта

 1. Исследование структуры данных
 2. Преобразование данных
 3. Исследование зависимостей в данных
 4. Очистка данных

- компиляция данных: [p1_dataset_compilation.ipynb](./p1_dataset_compilation.ipynb)
- построение ML-модели кластеризации: [p2_modeling.ipynb](./p2_modeling.ipynb)
- описание кластеров, анализ зависимостей: [p3_analysis.ipynb](./p3_analysis.ipynb)
- разработка сервиса для построения графика распределений выбранного признака в зависимости от кластера: [dplot_service/](./)


:arrow_up: [к оглавлению](./README.md#Оглавление)


**Метрика качества**
Результат оценивается по верности выполнения всех заданий проекта




:arrow_up:[к оглавлению](https://github.com/NovikovaEA/sf_data_science1/tree/main/PROGECT1#%D0%BE%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5)




### 5. Результаты

* Проведено считывание экономических и демографических данных из предоставленных файлов различного формата и из дополнительных источников. На основе полученных датасетов сформирована финальная таблица по срезу 2020 г. Помимо этого, структура ноутбука позволяет с помощью минимальных изменений кода оперативно комбинировать различные наборы характеристик  для возможного анализа финасово-экономических, демографических, медицинских, криминальных показателей по российским регионам.

* В качестве критериев для группировки регионов в кластеры с близкими параметрами выбраны признаки, отражающие социально-экономическое благополучие субъектов федерации. Построены рейтинги регионов по избранным показателям. Исследованы распределения выбранных признаков и корреляции между ними, произведен отбор и выполнены необходимые преобразования. Итоговый модельный датасет для проведения кластеризации включает в себя 5 независимых характеристик: 
  - номинальную заработную плату, нормированную на прожиточный минимум в регионе;
  - валовый региональный продукт в логарифмической шкале;
  - объем розничной торговли на человека, нормированный  на прожиточный минимум в регионе;
  - жилую площадь на человека;
  - процент населения за чертой бедности.

* С помощью различных внутренних метрик кластеризации оценено оптимальное количество кластеров (четыре). Построена базовая модель (k-means). Выполнено PCA-понижение размерности (3 главных компоненты, объясняющие 90% дисперсии). Протестированы различные алгоритмы кластеризации, из них на основе метрик и визуализации признакового пространства выбран оптимальный ("гауссова смесь на PCA-компонентах"), регионам присвоены соответствующие метки. Продемонстрирована устойчивость общей структуры кластеров при использовании различных алгоритмов кластеризации. При необходимости в качестве альтернативы можно также использовать k-means на PCA-компонентах, дающий похожие значения метрик и несколько большее число финансово неблагополучных регионов.

* Дано описание характерных особенностей полученных кластеров:
  - бедные регионы;
  - среднестатистические регионы;
  - регионы "комфорт"
  - бизнес-регионы.

* Проведен анализ социально-демографических групп населения, показывающий, что наиболее уязвимой группой населения по финасовым показателям являются семьи с детьми. При этом в кластере наиболее бедных регионов наблюдается аномально высокая рождаемость, необеспеченная доходами родителей, а доля детей среди всего населения на 10% больше, чем в остальных регионах. В остальных группах рождаемость слабо растет с ростом финансового благополучия. При этом процент детского населения падает от кластера бедных регионов к кластерам более богатых. В бедных регионах отмечается существенно более низкий процент населения пенсионного возраста (на 10%).
 
* Проведен анализ различия других характеристик датасета по кластерам. Подробное описание имеющихся корреляций и отсутствия таковых дано в [части 3, p3_analysis.ipynb](./p3_analysis.ipynb).

* Разработан Flask-сервис, позволяющий строить боксплоты распределений выбранного признака внутри кластеров согласно имеющейся модели. Сервис работает на основе клиент-сервисной архитектуры. Сервер работает в вариантах uWSGI и uWSGI+NGINX, последний также реализован в виде Docker-образа.

:arrow_up: [к оглавлению](./README.md#Оглавление)



### Результаты
Выполнено преобразование данных, исследование, графический EDA анализ и очистка данных
:arrow_up:[к оглавлению](https://github.com/NovikovaEA/sf_data_science1/tree/main/PROGECT1#%D0%BE%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5)